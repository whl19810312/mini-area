Postfix를 사용하여 이메일을 전송합니다.
🚀 Mini Area 서버 시작!
🔒 HTTPS 서버가 포트 7000에서 실행 중입니다. (WebRTC 지원)
LAN 접속: https://192.168.200.106:7000
WebSocket 접속: wss://192.168.200.106:7000
✅ PostgreSQL 데이터베이스 연결 성공
📊 데이터베이스에서 입실 중인 사용자 2명 로드
📊 사용자 입실 상태 복원: test1 → 맵 2
📊 사용자 입실 상태 복원: test2 → 맵 2
✅ 데이터베이스 테이블 동기화 완료
WebSocket 초기 헤더: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Credentials': 'true'
}
WebSocket 요청 정보: {
  method: 'GET',
  url: '/socket.io/?EIO=4&transport=websocket',
  headers: {
    host: '192.168.200.106:7000',
    connection: 'Upgrade',
    pragma: 'no-cache',
    'cache-control': 'no-cache',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36',
    upgrade: 'websocket',
    origin: 'https://192.168.200.106:5173',
    'sec-websocket-version': '13',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'sec-websocket-key': 'vRmQ2Amr9HrcttQiSWTpVA==',
    'sec-websocket-extensions': 'permessage-deflate; client_max_window_bits'
  },
  secure: undefined
}
새로운 WebSocket 연결 (화상통신 준비): vyQNsiRMz9Q_7qqxAAAB
연결 정보: {
  id: 'vyQNsiRMz9Q_7qqxAAAB',
  ip: '192.168.200.106',
  userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36',
  origin: 'https://192.168.200.106:5173',
  secure: true
}
새로운 mini area WebSocket 연결: vyQNsiRMz9Q_7qqxAAAB IP: 192.168.200.106
새로운 WebSocket 연결: vyQNsiRMz9Q_7qqxAAAB
✅ 인증 성공: test1 (3)
🔄 [온라인] 사용자 이전 입실 상태 복원: test1 (ID: 3) → 맵 2
   📍 이전 위치: (491, 287), 방향: down
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': undefined,
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:44.963Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (undefined)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
WebSocket 인증 성공: 3 test1
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📤 서버 상태 전송 to test1 (3)
WebSocket 초기 헤더: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Credentials': 'true'
}
WebSocket 요청 정보: {
  method: 'GET',
  url: '/socket.io/?EIO=4&transport=websocket',
  headers: {
    host: '192.168.200.106:7000',
    connection: 'Upgrade',
    pragma: 'no-cache',
    'cache-control': 'no-cache',
    'user-agent': 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
    upgrade: 'websocket',
    origin: 'https://192.168.200.106:5173',
    'sec-websocket-version': '13',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'sec-websocket-key': '684gXqfDUfZaU9Gz5qiKEg==',
    'sec-websocket-extensions': 'permessage-deflate; client_max_window_bits'
  },
  secure: undefined
}
새로운 WebSocket 연결 (화상통신 준비): pOIHAeD-3Pw2VNUnAAAD
연결 정보: {
  id: 'pOIHAeD-3Pw2VNUnAAAD',
  ip: '192.168.200.108',
  userAgent: 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
  origin: 'https://192.168.200.106:5173',
  secure: true
}
새로운 mini area WebSocket 연결: pOIHAeD-3Pw2VNUnAAAD IP: 192.168.200.108
새로운 WebSocket 연결: pOIHAeD-3Pw2VNUnAAAD
🔄 자동 재입장 시도: test1 → 맵 2
✅ test1 활성 캐릭터 로드 완료: {
  characterId: 2,
  characterName: 'test1',
  hasImages: true,
  hasAppearance: true
}
🏠 test1 맵 입장 시작: {
  mapId: 2,
  characterId: 2,
  position: { x: 491, y: 287 },
  characterInfo: '있음',
  userId: 3
}
✅ test1 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 2 }
🏠 test1 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 491, y: 287 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': 'test1',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:45.970Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
📊 사용자 입실 정보 저장 완료: test1 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test1',
  '위치': { x: 491, y: 287 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
👥 방 2의 참가자 목록: [
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'online',
    joinedAt: 2025-09-16T06:05:44.963Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:15:43.750Z,
      updatedAt: 2025-09-16T02:38:14.143Z,
      userId: 3
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
🏠 test1 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 491, y: 287 }, participants: 1 }
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
💾 사용자 입실 상태 DB 저장: 3 → 맵 2
🔌 [오프라인] mini area WebSocket 연결 해제: {
  socketId: 'vyQNsiRMz9Q_7qqxAAAB',
  userId: 3,
  username: 'test1',
  mapId: 2,
  privateAreaId: undefined,
  timestamp: '9/16/2025, 3:05:46 PM'
}
📊 [오프라인] 사용자 상태 변경: test1 (ID: 3)
   입실 상태: 맵 2에 입실 중 → 오프라인 (방 정보 유지)
⚠️ mapId 삭제 시도 차단 - 유지: 2
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': 'test1',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:46.115Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 0명, 오프라인: 2명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
🚪 test1 leaving room 2 (다른맵:false, 연결끊김:true)
📊 연결 끊김 - 방 정보 유지: test1 맵 2
📋 맵 2의 참가자 조회 시작
📋 맵 2에 소켓이 없음
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test1 (3) left room 2
🧹 [시스템] 소켓 정리 완료: test1 (3)
📊 [시스템] 현재 사용자 상태:
   온라인: 0명, 오프라인: 2명
   활성 소켓: 0개
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 0명, 오프라인: 2명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
🔄 서버 상태 업데이트: { totalUsers: 0, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
WebSocket 연결 해제: vyQNsiRMz9Q_7qqxAAAB
WebSocket 초기 헤더: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Credentials': 'true'
}
WebSocket 요청 정보: {
  method: 'GET',
  url: '/socket.io/?EIO=4&transport=websocket',
  headers: {
    host: '192.168.200.106:7000',
    connection: 'Upgrade',
    pragma: 'no-cache',
    'cache-control': 'no-cache',
    'user-agent': 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
    upgrade: 'websocket',
    origin: 'https://192.168.200.106:5173',
    'sec-websocket-version': '13',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'sec-websocket-key': 'hw8pcuvh+At+PjyT7754Zw==',
    'sec-websocket-extensions': 'permessage-deflate; client_max_window_bits'
  },
  secure: undefined
}
새로운 WebSocket 연결 (화상통신 준비): Cv3vysl0u2z0r9mTAAAF
연결 정보: {
  id: 'Cv3vysl0u2z0r9mTAAAF',
  ip: '192.168.200.108',
  userAgent: 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
  origin: 'https://192.168.200.106:5173',
  secure: true
}
새로운 mini area WebSocket 연결: Cv3vysl0u2z0r9mTAAAF IP: 192.168.200.108
새로운 WebSocket 연결: Cv3vysl0u2z0r9mTAAAF
✅ 인증 성공: test2 (4)
🔄 [온라인] 사용자 이전 입실 상태 복원: test2 (ID: 4) → 맵 2
   📍 이전 위치: (491, 287), 방향: down
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': undefined,
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:46.310Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
WebSocket 인증 성공: 4 test2
✅ 인증 성공: test2 (4)
🔄 [온라인] 사용자 이전 입실 상태 복원: test2 (ID: 4) → 맵 2
   📍 이전 위치: (491, 287), 방향: down
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': undefined,
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:46.313Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
WebSocket 인증 성공: 4 test2
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📤 서버 상태 전송 to test2 (4)
🔌 [오프라인] mini area WebSocket 연결 해제: {
  socketId: 'pOIHAeD-3Pw2VNUnAAAD',
  userId: undefined,
  username: undefined,
  mapId: undefined,
  privateAreaId: undefined,
  timestamp: '9/16/2025, 3:05:46 PM'
}
WebSocket 연결 해제: pOIHAeD-3Pw2VNUnAAAD
🔌 [오프라인] mini area WebSocket 연결 해제: {
  socketId: 'Cv3vysl0u2z0r9mTAAAF',
  userId: 4,
  username: 'test2',
  mapId: undefined,
  privateAreaId: undefined,
  timestamp: '9/16/2025, 3:05:46 PM'
}
📊 [오프라인] 사용자 상태 변경: test2 (ID: 4)
   입실 상태: 맵 2에 입실 중 → 오프라인 (방 정보 유지)
⚠️ mapId 삭제 시도 차단 - 유지: 2
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': undefined,
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:46.865Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 0명, 오프라인: 2명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
🧹 [시스템] 소켓 정리 완료: test2 (4)
📊 [시스템] 현재 사용자 상태:
   온라인: 0명, 오프라인: 2명
   활성 소켓: 0개
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 0명, 오프라인: 2명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
🔄 서버 상태 업데이트: { totalUsers: 0, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
WebSocket 연결 해제: Cv3vysl0u2z0r9mTAAAF
2025-09-16T06:05:47.039Z - OPTIONS /api/auth/user/me from 192.168.200.106
2025-09-16T06:05:47.040Z - OPTIONS /api/auth/user/me from 192.168.200.106
2025-09-16T06:05:47.042Z - GET /api/auth/user/me from 192.168.200.106
👤 현재 사용자 정보 조회: { userId: 3, username: 'test1' }
2025-09-16T06:05:47.047Z - GET /api/auth/user/me from 192.168.200.106
👤 현재 사용자 정보 조회: { userId: 3, username: 'test1' }
2025-09-16T06:05:47.068Z - OPTIONS /api/maps/2 from 192.168.200.106
2025-09-16T06:05:47.069Z - OPTIONS /api/maps from 192.168.200.106
2025-09-16T06:05:47.071Z - OPTIONS /api/characters from 192.168.200.106
2025-09-16T06:05:47.081Z - GET /api/maps/2 from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
2025-09-16T06:05:47.083Z - OPTIONS /api/characters from 192.168.200.106
Auth 미들웨어 - 인증 성공, 사용자: test1
🔍 서버: 맵 조회 요청: { mapId: '2', userId: 3 }
🔍 서버: 맵 조회 결과: 성공
✅ 서버: 맵 조회 성공: { id: 2, name: 'new world', creatorId: 3 }
2025-09-16T06:05:47.094Z - GET /api/maps from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
Auth 미들웨어 - 인증 성공, 사용자: test1
2025-09-16T06:05:47.111Z - GET /api/characters from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
2025-09-16T06:05:47.113Z - OPTIONS /api/maps from 192.168.200.106
Auth 미들웨어 - 인증 성공, 사용자: test1
WebSocket 초기 헤더: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Credentials': 'true'
}
WebSocket 요청 정보: {
  method: 'GET',
  url: '/socket.io/?EIO=4&transport=websocket',
  headers: {
    host: '192.168.200.106:7000',
    connection: 'Upgrade',
    pragma: 'no-cache',
    'cache-control': 'no-cache',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36',
    upgrade: 'websocket',
    origin: 'https://192.168.200.106:5173',
    'sec-websocket-version': '13',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'sec-websocket-key': 'C+xwciSEZWYz5+mhcimjSQ==',
    'sec-websocket-extensions': 'permessage-deflate; client_max_window_bits'
  },
  secure: undefined
}
2025-09-16T06:05:47.129Z - GET /api/maps from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
Auth 미들웨어 - 인증 성공, 사용자: test1
2025-09-16T06:05:47.136Z - GET /api/characters from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
2025-09-16T06:05:47.138Z - POST /api/characters from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
Auth 미들웨어 - 인증 성공, 사용자: test1
2025-09-16T06:05:47.148Z - OPTIONS /api/user/logged-in-users from 192.168.200.106
새로운 WebSocket 연결 (화상통신 준비): pOW66R_wv8q-mhdWAAAH
연결 정보: {
  id: 'pOW66R_wv8q-mhdWAAAH',
  ip: '192.168.200.106',
  userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36',
  origin: 'https://192.168.200.106:5173',
  secure: true
}
새로운 mini area WebSocket 연결: pOW66R_wv8q-mhdWAAAH IP: 192.168.200.106
새로운 WebSocket 연결: pOW66R_wv8q-mhdWAAAH
Auth 미들웨어 - 인증 성공, 사용자: test1
2025-09-16T06:05:47.156Z - GET /api/user/logged-in-users from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
Auth 미들웨어 - 인증 성공, 사용자: test1
2025-09-16T06:05:47.159Z - GET /api/user/logged-in-users from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
2025-09-16T06:05:47.161Z - GET /api/characters from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
Auth 미들웨어 - 인증 성공, 사용자: test1
Auth 미들웨어 - 인증 성공, 사용자: test1
WebSocket 초기 헤더: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Credentials': 'true'
}
WebSocket 요청 정보: {
  method: 'GET',
  url: '/socket.io/?EIO=4&transport=websocket',
  headers: {
    host: '192.168.200.106:7000',
    connection: 'Upgrade',
    pragma: 'no-cache',
    'cache-control': 'no-cache',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36',
    upgrade: 'websocket',
    origin: 'https://192.168.200.106:5173',
    'sec-websocket-version': '13',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'sec-websocket-key': 'hO/CqTcNTgii89dK1E1Gnw==',
    'sec-websocket-extensions': 'permessage-deflate; client_max_window_bits'
  },
  secure: undefined
}
새로운 WebSocket 연결 (화상통신 준비): WIdGoK4w8Gw0xzYDAAAJ
연결 정보: {
  id: 'WIdGoK4w8Gw0xzYDAAAJ',
  ip: '192.168.200.106',
  userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36',
  origin: 'https://192.168.200.106:5173',
  secure: true
}
새로운 mini area WebSocket 연결: WIdGoK4w8Gw0xzYDAAAJ IP: 192.168.200.106
새로운 WebSocket 연결: WIdGoK4w8Gw0xzYDAAAJ
📥 join-map 이벤트 수신: {
  userId: 3,
  username: undefined,
  mapId: 2,
  characterId: 2,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 2,
    name: 'test1',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 undefined 맵 입장 시작: {
  mapId: 2,
  characterId: 2,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 3
}
✅ undefined characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 2 }
🏠 undefined 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:05:47.213Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 0명, 오프라인: 2명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
📊 사용자 입실 정보 저장 완료: undefined {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
🧟 좀비 사용자 제거: userId=undefined, username="undefined", socketId=WIdGoK4w8Gw0xzYDAAAJ
📋 맵 2의 최종 참가자 수: 0
👥 방 2의 참가자 목록: []
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 0
📋 맵 2의 최종 참가자 수: 0
🏠 undefined 맵 입장 완료 - 최종 상태: { mapId: 2, position: undefined, participants: 0 }
🔄 서버 상태 업데이트: { totalUsers: 0, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:05:47.216Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 0명, 오프라인: 2명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:05:47.216Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
🚪 undefined leaving room 2 (다른맵:false, 연결끊김:false)
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': '대기실',
  mapId: 'wait',
  '현재영역': '대기실',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': null,
  '마지막활동': '2025-09-16T06:05:47.217Z'
}
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 0명, 오프라인: 2명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 wait (방 wait) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
📊 명시적 퇴실 - 대기실로 이동: undefined → 대기실 (mapId: wait)
📋 맵 2의 참가자 조회 시작
📋 맵 2에 소켓이 없음
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 0, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user undefined (3) left room 2
📥 join-map 이벤트 수신: {
  userId: 3,
  username: undefined,
  mapId: 2,
  characterId: 2,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 2,
    name: 'test1',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 undefined 맵 입장 시작: {
  mapId: 2,
  characterId: 2,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 3
}
✅ undefined characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 2 }
🏠 undefined 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:05:47.220Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 0명, 오프라인: 2명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
📊 사용자 입실 정보 저장 완료: undefined {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
🧟 좀비 사용자 제거: userId=undefined, username="undefined", socketId=WIdGoK4w8Gw0xzYDAAAJ
📋 맵 2의 최종 참가자 수: 0
👥 방 2의 참가자 목록: []
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 0
📋 맵 2의 최종 참가자 수: 0
🏠 undefined 맵 입장 완료 - 최종 상태: { mapId: 2, position: undefined, participants: 0 }
🔄 서버 상태 업데이트: { totalUsers: 0, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:05:47.223Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 0명, 오프라인: 2명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:05:47.223Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 491, y: 287 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:47.223Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 0명, 오프라인: 2명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:05:47.223Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 491, y: 287 }
}
WebSocket 인증 성공: 3 test1
✅ 인증 성공: test1 (3)
🔄 [온라인] 사용자 이전 입실 상태 복원: test1 (ID: 3) → 맵 2
   📍 이전 위치: (491, 287), 방향: down
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:47.227Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
💾 사용자 입실 상태 DB 저장: 3 → 맵 2
💾 사용자 입실 상태 DB 저장: 3 → 맵 null
✅ 인증 성공: test1 (3)
🔄 [온라인] 사용자 이전 입실 상태 복원: test1 (ID: 3) → 맵 2
   📍 이전 위치: (491, 287), 방향: down
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:47.229Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (undefined)
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
WebSocket 인증 성공: 3 test1
💾 사용자 입실 상태 DB 저장: 3 → 맵 2
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📤 서버 상태 전송 to test1 (3)
🔄 자동 재입장 시도: test2 → 맵 2
✅ test2 활성 캐릭터 로드 완료: {
  characterId: 3,
  characterName: 'test2',
  hasImages: true,
  hasAppearance: true
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 491, y: 287 },
  characterInfo: '있음',
  userId: 4
}
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 491, y: 287 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:47.313Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
🧟 좀비 사용자 제거: userId=undefined, username="undefined", socketId=Cv3vysl0u2z0r9mTAAAF
📋 맵 2의 최종 참가자 수: 0
👥 방 2의 참가자 목록: []
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 0
📋 맵 2의 최종 참가자 수: 0
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: undefined, participants: 0 }
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
🔄 자동 재입장 시도: test2 → 맵 2
✅ test2 활성 캐릭터 로드 완료: {
  characterId: 3,
  characterName: 'test2',
  hasImages: true,
  hasAppearance: true
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 491, y: 287 },
  characterInfo: '있음',
  userId: 4
}
🚪 test2 leaving room 2 (다른맵:true, 연결끊김:false)
📋 맵 2의 참가자 조회 시작
📋 맵 2에 소켓이 없음
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test2 (4) left room 2
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 491, y: 287 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:47.320Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
🧟 좀비 사용자 제거: userId=undefined, username="undefined", socketId=Cv3vysl0u2z0r9mTAAAF
📋 맵 2의 최종 참가자 수: 0
👥 방 2의 참가자 목록: []
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 0
📋 맵 2의 최종 참가자 수: 0
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: undefined, participants: 0 }
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
2025-09-16T06:05:48.177Z - OPTIONS /api/auth/user/me from 192.168.200.108
2025-09-16T06:05:48.181Z - OPTIONS /api/auth/user/me from 192.168.200.108
2025-09-16T06:05:48.186Z - GET /api/auth/user/me from 192.168.200.108
👤 현재 사용자 정보 조회: { userId: 4, username: 'test2' }
2025-09-16T06:05:48.194Z - GET /api/auth/user/me from 192.168.200.108
👤 현재 사용자 정보 조회: { userId: 4, username: 'test2' }
🔄 자동 재입장 시도: test1 → 맵 2
🔄 자동 재입장 시도: test1 → 맵 2
✅ test1 활성 캐릭터 로드 완료: {
  characterId: 2,
  characterName: 'test1',
  hasImages: true,
  hasAppearance: true
}
🏠 test1 맵 입장 시작: {
  mapId: 2,
  characterId: 2,
  position: { x: 491, y: 287 },
  characterInfo: '있음',
  userId: 3
}
🚪 test1 leaving room 2 (다른맵:true, 연결끊김:false)
📋 맵 2의 참가자 조회 시작
📋 맵 2에 소켓이 없음
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test1 (3) left room 2
✅ test1 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 2 }
🏠 test1 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 491, y: 287 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:48.232Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test1 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test1',
  '위치': { x: 491, y: 287 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
👥 방 2의 참가자 목록: [
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'online',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:15:43.750Z,
      updatedAt: 2025-09-16T02:38:14.143Z,
      userId: 3
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
🏠 test1 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 491, y: 287 }, participants: 1 }
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
✅ test1 활성 캐릭터 로드 완료: {
  characterId: 2,
  characterName: 'test1',
  hasImages: true,
  hasAppearance: true
}
🏠 test1 맵 입장 시작: {
  mapId: 2,
  characterId: 2,
  position: { x: 491, y: 287 },
  characterInfo: '있음',
  userId: 3
}
🚪 test1 leaving room 2 (다른맵:true, 연결끊김:false)
📋 맵 2의 참가자 조회 시작
📋 맵 2에 소켓이 없음
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test1 (3) left room 2
✅ test1 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 2 }
🏠 test1 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 491, y: 287 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:48.236Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test1 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test1',
  '위치': { x: 491, y: 287 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
👥 방 2의 참가자 목록: [
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'online',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:15:43.750Z,
      updatedAt: 2025-09-16T02:38:14.143Z,
      userId: 3
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
🏠 test1 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 491, y: 287 }, participants: 1 }
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
💾 사용자 입실 상태 DB 저장: 3 → 맵 2
💾 사용자 입실 상태 DB 저장: 3 → 맵 2
2025-09-16T06:05:48.262Z - OPTIONS /api/maps/2 from 192.168.200.108
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1' ]
2025-09-16T06:05:48.278Z - OPTIONS /api/maps from 192.168.200.108
2025-09-16T06:05:48.314Z - OPTIONS /api/characters from 192.168.200.108
2025-09-16T06:05:48.315Z - OPTIONS /api/characters from 192.168.200.108
2025-09-16T06:05:48.349Z - GET /api/maps/2 from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
2025-09-16T06:05:48.357Z - GET /api/maps from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
2025-09-16T06:05:48.359Z - OPTIONS /api/maps from 192.168.200.108
2025-09-16T06:05:48.359Z - GET /api/characters from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
🔍 서버: 맵 조회 요청: { mapId: '2', userId: 4 }
Auth 미들웨어 - 인증 성공, 사용자: test2
Auth 미들웨어 - 인증 성공, 사용자: test2
🔍 서버: 맵 조회 결과: 성공
✅ 서버: 맵 조회 성공: { id: 2, name: 'new world', creatorId: 3 }
2025-09-16T06:05:48.373Z - GET /api/characters from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
2025-09-16T06:05:48.391Z - GET /api/maps from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
WebSocket 초기 헤더: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Credentials': 'true'
}
WebSocket 요청 정보: {
  method: 'GET',
  url: '/socket.io/?EIO=4&transport=websocket',
  headers: {
    host: '192.168.200.106:7000',
    connection: 'Upgrade',
    pragma: 'no-cache',
    'cache-control': 'no-cache',
    'user-agent': 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
    upgrade: 'websocket',
    origin: 'https://192.168.200.106:5173',
    'sec-websocket-version': '13',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'sec-websocket-key': 'w2B3IECVswPXvBPIOSsQwg==',
    'sec-websocket-extensions': 'permessage-deflate; client_max_window_bits'
  },
  secure: undefined
}
새로운 WebSocket 연결 (화상통신 준비): ut3cpTBHSDEheOl5AAAL
연결 정보: {
  id: 'ut3cpTBHSDEheOl5AAAL',
  ip: '192.168.200.108',
  userAgent: 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
  origin: 'https://192.168.200.106:5173',
  secure: true
}
새로운 mini area WebSocket 연결: ut3cpTBHSDEheOl5AAAL IP: 192.168.200.108
새로운 WebSocket 연결: ut3cpTBHSDEheOl5AAAL
WebSocket 초기 헤더: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Credentials': 'true'
}
WebSocket 요청 정보: {
  method: 'GET',
  url: '/socket.io/?EIO=4&transport=websocket',
  headers: {
    host: '192.168.200.106:7000',
    connection: 'Upgrade',
    pragma: 'no-cache',
    'cache-control': 'no-cache',
    'user-agent': 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
    upgrade: 'websocket',
    origin: 'https://192.168.200.106:5173',
    'sec-websocket-version': '13',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'sec-websocket-key': '7rdURydJ7euDGqdk9x2ljA==',
    'sec-websocket-extensions': 'permessage-deflate; client_max_window_bits'
  },
  secure: undefined
}
2025-09-16T06:05:48.625Z - POST /api/characters from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
2025-09-16T06:05:48.653Z - OPTIONS /api/user/logged-in-users from 192.168.200.108
2025-09-16T06:05:48.671Z - OPTIONS /api/user/logged-in-users from 192.168.200.108
새로운 WebSocket 연결 (화상통신 준비): XpfSfWIqmP4K9mHJAAAN
연결 정보: {
  id: 'XpfSfWIqmP4K9mHJAAAN',
  ip: '192.168.200.108',
  userAgent: 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
  origin: 'https://192.168.200.106:5173',
  secure: true
}
새로운 mini area WebSocket 연결: XpfSfWIqmP4K9mHJAAAN IP: 192.168.200.108
새로운 WebSocket 연결: XpfSfWIqmP4K9mHJAAAN
2025-09-16T06:05:48.678Z - GET /api/user/logged-in-users from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
2025-09-16T06:05:48.680Z - GET /api/characters from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
Auth 미들웨어 - 인증 성공, 사용자: test2
✅ 인증 성공: test2 (4)
🔄 [온라인] 사용자 이전 입실 상태 복원: test2 (ID: 4) → 맵 2
   📍 이전 위치: (491, 287), 방향: down
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:48.691Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
WebSocket 인증 성공: 4 test2
WebSocket 인증 성공: 4 test2
✅ 인증 성공: test2 (4)
🔄 [온라인] 사용자 이전 입실 상태 복원: test2 (ID: 4) → 맵 2
   📍 이전 위치: (491, 287), 방향: down
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:48.693Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
2025-09-16T06:05:48.694Z - GET /api/user/logged-in-users from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1' ]
📥 join-map 이벤트 수신: {
  userId: 4,
  username: 'test2',
  mapId: 2,
  characterId: 3,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 3,
    name: 'test2',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 4
}
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:05:48.821Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
👥 방 2의 참가자 목록: [
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'online',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:15:43.750Z,
      updatedAt: 2025-09-16T02:38:14.143Z,
      userId: 3
    },
    privateAreaId: null
  },
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 400, y: 300 },
    direction: 'down',
    status: 'online',
    joinedAt: 2025-09-16T06:05:48.693Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:31:26.126Z',
      updatedAt: '2025-09-16T02:44:12.723Z',
      userId: 4
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 400, y: 300 }, participants: 2 }
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: undefined,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:05:48.890Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:05:48.890Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
🚪 test2 leaving room 2 (다른맵:false, 연결끊김:false)
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': '대기실',
  mapId: 'wait',
  '현재영역': '대기실',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': null,
  '마지막활동': '2025-09-16T06:05:48.892Z'
}
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 wait (방 wait) (test2)
📊 명시적 퇴실 - 대기실로 이동: test2 → 대기실 (mapId: wait)
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test2 (4) left room 2
📥 join-map 이벤트 수신: {
  userId: 4,
  username: 'test2',
  mapId: 2,
  characterId: 3,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 3,
    name: 'test2',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 4
}
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:05:48.895Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
👥 방 2의 참가자 목록: [
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'online',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:15:43.750Z,
      updatedAt: 2025-09-16T02:38:14.143Z,
      userId: 3
    },
    privateAreaId: null
  },
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 400, y: 300 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:48.693Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:31:26.126Z',
      updatedAt: '2025-09-16T02:44:12.723Z',
      userId: 4
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 400, y: 300 }, participants: 2 }
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:05:48.896Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:05:48.896Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
💾 사용자 입실 상태 DB 저장: 4 → 맵 null
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📤 서버 상태 전송 to test2 (4)
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 400, y: 300 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 400, y: 300 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 491, y: 287 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:49.248Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:05:49.248Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 491, y: 287 }
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 491, y: 287 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
🔄 자동 재입장 시도: test2 → 맵 2
🔄 자동 재입장 시도: test2 → 맵 2
✅ test2 활성 캐릭터 로드 완료: {
  characterId: 3,
  characterName: 'test2',
  hasImages: true,
  hasAppearance: true
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 491, y: 287 },
  characterInfo: '있음',
  userId: 4
}
🚪 test2 leaving room 2 (다른맵:true, 연결끊김:false)
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test2 (4) left room 2
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 491, y: 287 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:49.695Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
👥 방 2의 참가자 목록: [
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'online',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:15:43.750Z,
      updatedAt: 2025-09-16T02:38:14.143Z,
      userId: 3
    },
    privateAreaId: null
  },
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:48.693Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:31:26.126Z,
      updatedAt: 2025-09-16T02:44:12.723Z,
      userId: 4
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 491, y: 287 }, participants: 2 }
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
✅ test2 활성 캐릭터 로드 완료: {
  characterId: 3,
  characterName: 'test2',
  hasImages: true,
  hasAppearance: true
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 491, y: 287 },
  characterInfo: '있음',
  userId: 4
}
🚪 test2 leaving room 2 (다른맵:true, 연결끊김:false)
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test2 (4) left room 2
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 491, y: 287 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:05:49.697Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
👥 방 2의 참가자 목록: [
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'online',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:15:43.750Z,
      updatedAt: 2025-09-16T02:38:14.143Z,
      userId: 3
    },
    privateAreaId: null
  },
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:48.693Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:31:26.126Z,
      updatedAt: 2025-09-16T02:44:12.723Z,
      userId: 4
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 491, y: 287 }, participants: 2 }
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
🏓 Ping 전송 완료: 2개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
🏓 Ping 전송 완료: 2개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
🏓 Ping 전송 완료: 2개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 496, y: 287 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 496, y: 287 },
  '마지막활동': '2025-09-16T06:07:31.202Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.202Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 496, y: 287 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 501, y: 286 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 501, y: 286 },
  '마지막활동': '2025-09-16T06:07:31.219Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.219Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 501, y: 286 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 506, y: 286 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 506, y: 286 },
  '마지막활동': '2025-09-16T06:07:31.232Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.232Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 506, y: 286 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 511, y: 286 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 511, y: 286 },
  '마지막활동': '2025-09-16T06:07:31.249Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.249Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 511, y: 286 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 495.7916458492903, y: 286.71692747399464 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 516, y: 286 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 516, y: 286 },
  '마지막활동': '2025-09-16T06:07:31.265Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.265Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 516, y: 286 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 500.7929262044862, y: 286.42147052497666 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 521, y: 285 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 521, y: 285 },
  '마지막활동': '2025-09-16T06:07:31.282Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.282Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 521, y: 285 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 505.76425877312664, y: 286.127782779246 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 526, y: 285 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 526, y: 285 },
  '마지막활동': '2025-09-16T06:07:31.299Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.299Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 526, y: 285 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 510.76553912832253, y: 285.832325830228 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 531, y: 285 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 531, y: 285 },
  '마지막활동': '2025-09-16T06:07:31.315Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.315Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 531, y: 285 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 515.7368716969629, y: 285.53863808449734 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 536, y: 284 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 536, y: 284 },
  '마지막활동': '2025-09-16T06:07:31.333Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.333Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 536, y: 284 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 520.7680998387142, y: 285.24141193219197 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 541, y: 284 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 541, y: 284 },
  '마지막활동': '2025-09-16T06:07:31.349Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.349Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 541, y: 284 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 525.7394324073546, y: 284.9477241864613 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 546, y: 284 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 546, y: 284 },
  '마지막활동': '2025-09-16T06:07:31.366Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.366Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 546, y: 284 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 530.710764975995, y: 284.65403644073064 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 551, y: 283 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 551, y: 283 },
  '마지막활동': '2025-09-16T06:07:31.382Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.382Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 551, y: 283 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 535.7120453311908, y: 284.35857949171265 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 556, y: 283 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 556, y: 283 },
  '마지막활동': '2025-09-16T06:07:31.399Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.399Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 556, y: 283 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 540.7133256863866, y: 284.06312254269466 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 561, y: 283 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 561, y: 283 },
  '마지막활동': '2025-09-16T06:07:31.415Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.415Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 561, y: 283 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 545.684658255027, y: 283.769434796964 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 566, y: 283 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 566, y: 283 },
  '마지막활동': '2025-09-16T06:07:31.432Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.432Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 566, y: 283 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 550.6859386102228, y: 283.473977847946 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 571, y: 282 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 571, y: 282 },
  '마지막활동': '2025-09-16T06:07:31.449Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.449Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 571, y: 282 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 555.6572711788589, y: 283.1802901022156 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 576, y: 282 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 576, y: 282 },
  '마지막활동': '2025-09-16T06:07:31.465Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.465Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 576, y: 282 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 560.6585515340591, y: 282.88483315319735 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 581, y: 282 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 581, y: 282 },
  '마지막활동': '2025-09-16T06:07:31.482Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.482Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 581, y: 282 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 565.659831889255, y: 282.58937620417936 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 586, y: 281 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 586, y: 281 },
  '마지막활동': '2025-09-16T06:07:31.499Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.499Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 586, y: 281 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 570.631164457891, y: 282.295688458449 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 591, y: 281 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 591, y: 281 },
  '마지막활동': '2025-09-16T06:07:31.516Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.516Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 591, y: 281 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 575.6324448130913, y: 282.0002315094307 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 596, y: 281 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 596, y: 281 },
  '마지막활동': '2025-09-16T06:07:31.532Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.532Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 596, y: 281 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 580.6337251682871, y: 281.7047745604127 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 601, y: 281 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 601, y: 281 },
  '마지막활동': '2025-09-16T06:07:31.548Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.548Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 601, y: 281 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 585.635005523483, y: 281.4093176113947 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 606, y: 280 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 606, y: 280 },
  '마지막활동': '2025-09-16T06:07:31.566Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.566Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 606, y: 280 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 590.6362858786788, y: 281.11386066237674 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 611, y: 280 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 611, y: 280 },
  '마지막활동': '2025-09-16T06:07:31.582Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.582Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 611, y: 280 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 595.6076184473192, y: 280.8201729166461 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 616, y: 280 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 616, y: 280 },
  '마지막활동': '2025-09-16T06:07:31.599Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.599Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 616, y: 280 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 600.608898802515, y: 280.5247159676281 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 621, y: 279 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 621, y: 279 },
  '마지막활동': '2025-09-16T06:07:31.615Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.615Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 621, y: 279 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 605.6101791577108, y: 280.2292590186101 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 626, y: 279 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 626, y: 279 },
  '마지막활동': '2025-09-16T06:07:31.632Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.632Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 626, y: 279 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 610.5815117263512, y: 279.93557127287943 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 631, y: 279 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 631, y: 279 },
  '마지막활동': '2025-09-16T06:07:31.648Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.648Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 631, y: 279 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 615.5528442949873, y: 279.64188352714905 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 636, y: 278 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 636, y: 278 },
  '마지막활동': '2025-09-16T06:07:31.665Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.665Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 636, y: 278 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 620.584072436743, y: 279.3446573748434 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 641, y: 278 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 641, y: 278 },
  '마지막활동': '2025-09-16T06:07:31.682Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.682Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 641, y: 278 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 625.5554050053834, y: 279.0509696291127 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 646, y: 278 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 646, y: 278 },
  '마지막활동': '2025-09-16T06:07:31.699Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.699Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 646, y: 278 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 630.5267375740194, y: 278.75728188338235 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 651, y: 278 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 651, y: 278 },
  '마지막활동': '2025-09-16T06:07:31.715Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.715Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 651, y: 278 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 635.5280179292197, y: 278.4618249343641 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 656, y: 277 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 656, y: 277 },
  '마지막활동': '2025-09-16T06:07:31.732Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.732Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 656, y: 277 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 640.5292982844155, y: 278.1663679853461 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 661, y: 277 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 661, y: 277 },
  '마지막활동': '2025-09-16T06:07:31.748Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.748Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 661, y: 277 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 645.5006308530516, y: 277.8726802396157 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 665, y: 277 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 665, y: 277 },
  '마지막활동': '2025-09-16T06:07:31.765Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.765Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 665, y: 277 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 650.5019112082518, y: 277.57722329059743 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 670, y: 276 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 670, y: 276 },
  '마지막활동': '2025-09-16T06:07:31.781Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.781Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 670, y: 276 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 655.5031915634477, y: 277.28176634157944 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 675, y: 276 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 675, y: 276 },
  '마지막활동': '2025-09-16T06:07:31.799Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.799Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 675, y: 276 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 660.5044719186435, y: 276.98630939256145 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 680, y: 276 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 680, y: 276 },
  '마지막활동': '2025-09-16T06:07:31.815Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:31.815Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 680, y: 276 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 665.4758044872839, y: 276.6926216468308 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 670.4770848424797, y: 276.3971646978128 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 675.4783651976755, y: 276.1017077487948 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 680.4496977663159, y: 275.80802000306414 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'lobby',
  currentRoom: null,
  position: null,
  area: null,
  areaType: null
}
⚠️ mapId 삭제 시도 차단 - 유지: 2
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': null,
  '마지막활동': '2025-09-16T06:07:32.204Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'lobby',
  '마지막활동': '2025-09-16T06:07:32.204Z',
  '입실공간': '대기실',
  mapId: null,
  '위치': null,
  '영역': null,
  '영역유형': null
}
🚪 test1 leaving room 2 (다른맵:false, 연결끊김:false)
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': '대기실',
  mapId: 'wait',
  '현재영역': '대기실',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': null,
  '마지막활동': '2025-09-16T06:07:32.215Z'
}
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 wait (방 wait) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 명시적 퇴실 - 대기실로 이동: test1 → 대기실 (mapId: wait)
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test1 (3) left room 2
2025-09-16T06:07:32.235Z - OPTIONS /api/maps from 192.168.200.106
2025-09-16T06:07:32.236Z - OPTIONS /api/maps from 192.168.200.106
2025-09-16T06:07:32.240Z - GET /api/maps from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
💾 사용자 입실 상태 DB 저장: 3 → 맵 null
Auth 미들웨어 - 인증 성공, 사용자: test1
2025-09-16T06:07:32.262Z - GET /api/maps from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
Auth 미들웨어 - 인증 성공, 사용자: test1
2025-09-16T06:07:32.273Z - OPTIONS /api/user/logged-in-users from 192.168.200.106
2025-09-16T06:07:32.275Z - GET /api/user/logged-in-users from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
Auth 미들웨어 - 인증 성공, 사용자: test1
2025-09-16T06:07:32.280Z - GET /api/user/logged-in-users from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
Auth 미들웨어 - 인증 성공, 사용자: test1
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📥 join-map 이벤트 수신: {
  userId: 3,
  username: 'test1',
  mapId: 2,
  characterId: 2,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 2,
    name: 'test1',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 test1 맵 입장 시작: {
  mapId: 2,
  characterId: 2,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 3
}
✅ test1 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 2 }
🏠 test1 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:33.326Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test1 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test2 (4)
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 2
👥 방 2의 참가자 목록: [
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:48.693Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:31:26.126Z,
      updatedAt: 2025-09-16T02:44:12.723Z,
      userId: 4
    },
    privateAreaId: null
  },
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 400, y: 300 },
    direction: 'down',
    status: 'lobby',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:15:43.750Z',
      updatedAt: '2025-09-16T02:38:14.143Z',
      userId: 3
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test2 (4)
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 2
🏠 test1 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 400, y: 300 }, participants: 2 }
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:33.330Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:33.330Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
🚪 test1 leaving room 2 (다른맵:false, 연결끊김:false)
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': '대기실',
  mapId: 'wait',
  '현재영역': '대기실',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': null,
  '마지막활동': '2025-09-16T06:07:33.332Z'
}
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 wait (방 wait) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 명시적 퇴실 - 대기실로 이동: test1 → 대기실 (mapId: wait)
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test1 (3) left room 2
📥 join-map 이벤트 수신: {
  userId: 3,
  username: 'test1',
  mapId: 2,
  characterId: 2,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 2,
    name: 'test1',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 test1 맵 입장 시작: {
  mapId: 2,
  characterId: 2,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 3
}
✅ test1 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 2 }
🏠 test1 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:33.334Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test1 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test2 (4)
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 2
👥 방 2의 참가자 목록: [
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:48.693Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:31:26.126Z,
      updatedAt: 2025-09-16T02:44:12.723Z,
      userId: 4
    },
    privateAreaId: null
  },
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 400, y: 300 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:15:43.750Z',
      updatedAt: '2025-09-16T02:38:14.143Z',
      userId: 3
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test2 (4)
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 2
🏠 test1 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 400, y: 300 }, participants: 2 }
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:33.337Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:33.337Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
🚪 test1 leaving room 2 (다른맵:false, 연결끊김:false)
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': '대기실',
  mapId: 'wait',
  '현재영역': '대기실',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': null,
  '마지막활동': '2025-09-16T06:07:33.340Z'
}
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 wait (방 wait) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 명시적 퇴실 - 대기실로 이동: test1 → 대기실 (mapId: wait)
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test1 (3) left room 2
2025-09-16T06:07:33.343Z - OPTIONS /api/maps/2 from 192.168.200.106
💾 사용자 입실 상태 DB 저장: 3 → 맵 2
💾 사용자 입실 상태 DB 저장: 3 → 맵 null
2025-09-16T06:07:33.346Z - GET /api/maps/2 from 192.168.200.106
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 3
💾 사용자 입실 상태 DB 저장: 3 → 맵 2
💾 사용자 입실 상태 DB 저장: 3 → 맵 null
Auth 미들웨어 - 인증 성공, 사용자: test1
🔍 서버: 맵 조회 요청: { mapId: '2', userId: 3 }
🔍 서버: 맵 조회 결과: 성공
✅ 서버: 맵 조회 성공: { id: 2, name: 'new world', creatorId: 3 }
📥 join-map 이벤트 수신: {
  userId: 3,
  username: 'test1',
  mapId: 2,
  characterId: 2,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 2,
    name: 'test1',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 test1 맵 입장 시작: {
  mapId: 2,
  characterId: 2,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 3
}
✅ test1 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 2 }
🏠 test1 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:33.368Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test1 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test2 (4)
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 2
👥 방 2의 참가자 목록: [
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:48.693Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:31:26.126Z,
      updatedAt: 2025-09-16T02:44:12.723Z,
      userId: 4
    },
    privateAreaId: null
  },
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 400, y: 300 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:15:43.750Z',
      updatedAt: '2025-09-16T02:38:14.143Z',
      userId: 3
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test2 (4)
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 2
🏠 test1 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 400, y: 300 }, participants: 2 }
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:33.372Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:33.372Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
🚪 test1 leaving room 2 (다른맵:false, 연결끊김:false)
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': '대기실',
  mapId: 'wait',
  '현재영역': '대기실',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': null,
  '마지막활동': '2025-09-16T06:07:33.373Z'
}
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 wait (방 wait) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 명시적 퇴실 - 대기실로 이동: test1 → 대기실 (mapId: wait)
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test1 (3) left room 2
📥 join-map 이벤트 수신: {
  userId: 3,
  username: 'test1',
  mapId: 2,
  characterId: 2,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 2,
    name: 'test1',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 test1 맵 입장 시작: {
  mapId: 2,
  characterId: 2,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 3
}
✅ test1 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 2 }
🏠 test1 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:33.376Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test1 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test2 (4)
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 2
👥 방 2의 참가자 목록: [
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:48.693Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:31:26.126Z,
      updatedAt: 2025-09-16T02:44:12.723Z,
      userId: 4
    },
    privateAreaId: null
  },
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 400, y: 300 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:15:43.750Z',
      updatedAt: '2025-09-16T02:38:14.143Z',
      userId: 3
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test2 (4)
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 2
🏠 test1 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 400, y: 300 }, participants: 2 }
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:33.379Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:33.379Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 491, y: 287 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:07:33.381Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:33.381Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 491, y: 287 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 400, y: 300 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 400, y: 300 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
💾 사용자 입실 상태 DB 저장: 3 → 맵 2
💾 사용자 입실 상태 DB 저장: 3 → 맵 null
💾 사용자 입실 상태 DB 저장: 3 → 맵 2
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 400, y: 300 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 400, y: 300 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 491, y: 287 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2', 'test1' ]
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'lobby',
  currentRoom: null,
  position: null,
  area: null,
  areaType: null
}
⚠️ mapId 삭제 시도 차단 - 유지: 2
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': null,
  '마지막활동': '2025-09-16T06:07:39.439Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'lobby',
  '마지막활동': '2025-09-16T06:07:39.439Z',
  '입실공간': '대기실',
  mapId: null,
  '위치': null,
  '영역': null,
  '영역유형': null
}
🚪 test2 leaving room 2 (다른맵:false, 연결끊김:false)
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': '대기실',
  mapId: 'wait',
  '현재영역': '대기실',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': null,
  '마지막활동': '2025-09-16T06:07:39.511Z'
}
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 wait (방 wait) (test2)
📊 명시적 퇴실 - 대기실로 이동: test2 → 대기실 (mapId: wait)
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test2 (4) left room 2
💾 사용자 입실 상태 DB 저장: 4 → 맵 null
2025-09-16T06:07:39.553Z - OPTIONS /api/maps from 192.168.200.108
2025-09-16T06:07:39.560Z - GET /api/maps from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
2025-09-16T06:07:39.561Z - OPTIONS /api/maps from 192.168.200.108
Auth 미들웨어 - 인증 성공, 사용자: test2
2025-09-16T06:07:39.581Z - GET /api/maps from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
2025-09-16T06:07:39.699Z - OPTIONS /api/user/logged-in-users from 192.168.200.108
2025-09-16T06:07:39.707Z - GET /api/user/logged-in-users from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
2025-09-16T06:07:39.718Z - GET /api/user/logged-in-users from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1' ]
2025-09-16T06:07:40.855Z - OPTIONS /api/maps/2 from 192.168.200.108
📥 join-map 이벤트 수신: {
  userId: 4,
  username: 'test2',
  mapId: 2,
  characterId: 3,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 3,
    name: 'test2',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 4
}
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:40.857Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
👥 방 2의 참가자 목록: [
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:15:43.750Z',
      updatedAt: '2025-09-16T02:38:14.143Z',
      userId: 3
    },
    privateAreaId: null
  },
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 400, y: 300 },
    direction: 'down',
    status: 'lobby',
    joinedAt: 2025-09-16T06:05:48.693Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:31:26.126Z',
      updatedAt: '2025-09-16T02:44:12.723Z',
      userId: 4
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 400, y: 300 }, participants: 2 }
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:40.860Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:40.860Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
🚪 test2 leaving room 2 (다른맵:false, 연결끊김:false)
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': '대기실',
  mapId: 'wait',
  '현재영역': '대기실',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': null,
  '마지막활동': '2025-09-16T06:07:40.861Z'
}
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 wait (방 wait) (test2)
📊 명시적 퇴실 - 대기실로 이동: test2 → 대기실 (mapId: wait)
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test2 (4) left room 2
📥 join-map 이벤트 수신: {
  userId: 4,
  username: 'test2',
  mapId: 2,
  characterId: 3,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 3,
    name: 'test2',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 4
}
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:40.863Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
👥 방 2의 참가자 목록: [
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:15:43.750Z',
      updatedAt: '2025-09-16T02:38:14.143Z',
      userId: 3
    },
    privateAreaId: null
  },
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 400, y: 300 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:48.693Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:31:26.126Z',
      updatedAt: '2025-09-16T02:44:12.723Z',
      userId: 4
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 400, y: 300 }, participants: 2 }
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:40.865Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:40.865Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
💾 사용자 입실 상태 DB 저장: 4 → 맵 null
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
2025-09-16T06:07:40.882Z - GET /api/maps/2 from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
🔍 서버: 맵 조회 요청: { mapId: '2', userId: 4 }
🔍 서버: 맵 조회 결과: 성공
✅ 서버: 맵 조회 성공: { id: 2, name: 'new world', creatorId: 3 }
🚪 test2 leaving room 2 (다른맵:false, 연결끊김:false)
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': '대기실',
  mapId: 'wait',
  '현재영역': '대기실',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': null,
  '마지막활동': '2025-09-16T06:07:40.895Z'
}
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 wait (방 wait) (test2)
📊 명시적 퇴실 - 대기실로 이동: test2 → 대기실 (mapId: wait)
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test2 (4) left room 2
💾 사용자 입실 상태 DB 저장: 4 → 맵 null
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1' ]
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 400, y: 300 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 400, y: 300 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
📥 join-map 이벤트 수신: {
  userId: 4,
  username: 'test2',
  mapId: 2,
  characterId: 3,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 3,
    name: 'test2',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 4
}
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:41.163Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
👥 방 2의 참가자 목록: [
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:15:43.750Z',
      updatedAt: '2025-09-16T02:38:14.143Z',
      userId: 3
    },
    privateAreaId: null
  },
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 400, y: 300 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:48.693Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:31:26.126Z',
      updatedAt: '2025-09-16T02:44:12.723Z',
      userId: 4
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 400, y: 300 }, participants: 2 }
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:41.182Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:41.182Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
🚪 test2 leaving room 2 (다른맵:false, 연결끊김:false)
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': '대기실',
  mapId: 'wait',
  '현재영역': '대기실',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': null,
  '마지막활동': '2025-09-16T06:07:41.184Z'
}
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 wait (방 wait) (test2)
📊 명시적 퇴실 - 대기실로 이동: test2 → 대기실 (mapId: wait)
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test1 (3)
📋 맵 2의 최종 참가자 수: 1
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test2 (4) left room 2
📥 join-map 이벤트 수신: {
  userId: 4,
  username: 'test2',
  mapId: 2,
  characterId: 3,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 3,
    name: 'test2',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 4
}
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:41.187Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
👥 방 2의 참가자 목록: [
  {
    userId: 3,
    username: 'test1',
    characterId: 2,
    position: { x: 491, y: 287 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:47.229Z,
    characterInfo: {
      id: 2,
      name: 'test1',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:15:43.750Z',
      updatedAt: '2025-09-16T02:38:14.143Z',
      userId: 3
    },
    privateAreaId: null
  },
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 400, y: 300 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:05:48.693Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:31:26.126Z',
      updatedAt: '2025-09-16T02:44:12.723Z',
      userId: 4
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 2
📋 참가자 추가: test1 (3)
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 2
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 400, y: 300 }, participants: 2 }
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:07:41.189Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:41.189Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
💾 사용자 입실 상태 DB 저장: 4 → 맵 null
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 400, y: 300 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 400, y: 300 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 491, y: 287 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:07:41.455Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:41.455Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 491, y: 287 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 491, y: 287 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
🏓 Ping 전송 완료: 2개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 495, y: 285 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 495, y: 285 },
  '마지막활동': '2025-09-16T06:07:52.049Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.049Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 495, y: 285 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 500, y: 284 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 500, y: 284 },
  '마지막활동': '2025-09-16T06:07:52.056Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.056Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 500, y: 284 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 505, y: 282 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 505, y: 282 },
  '마지막활동': '2025-09-16T06:07:52.072Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.072Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 505, y: 282 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 509, y: 280 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 509, y: 280 },
  '마지막활동': '2025-09-16T06:07:52.090Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.090Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 509, y: 280 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 495.49290120801686, y: 285.31066914578565 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 514, y: 278 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 514, y: 278 },
  '마지막활동': '2025-09-16T06:07:52.106Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.106Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 514, y: 278 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 500.13968428240696, y: 283.563478709815 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 519, y: 277 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 519, y: 277 },
  '마지막활동': '2025-09-16T06:07:52.122Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.122Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 519, y: 277 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 504.82914991827374, y: 281.8002396307291 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 524, y: 275 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 524, y: 275 },
  '마지막활동': '2025-09-16T06:07:52.139Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.139Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 524, y: 275 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 509.4905349215929, y: 280.0475588694811 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 528, y: 273 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 528, y: 273 },
  '마지막활동': '2025-09-16T06:07:52.156Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.156Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 528, y: 273 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 514.2080811900114, y: 278.27376147255575 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 533, y: 271 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 533, y: 271 },
  '마지막활동': '2025-09-16T06:07:52.172Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.172Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 533, y: 271 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 518.8975468258782, y: 276.51052239346984 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 538, y: 269 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 538, y: 269 },
  '마지막활동': '2025-09-16T06:07:52.188Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.188Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 538, y: 269 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 523.5308511966456, y: 274.7683999500613 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 542, y: 268 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 542, y: 268 },
  '마지막활동': '2025-09-16T06:07:52.205Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.205Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 542, y: 268 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 528.2483974650642, y: 272.9946025531359 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 547, y: 266 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 547, y: 266 },
  '마지막활동': '2025-09-16T06:07:52.223Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.223Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 547, y: 266 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 532.9097824683793, y: 271.24192179188947 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 552, y: 264 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 552, y: 264 },
  '마지막활동': '2025-09-16T06:07:52.239Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.239Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 552, y: 264 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 537.599248104246, y: 269.47868271280356 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 556, y: 262 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 556, y: 262 },
  '마지막활동': '2025-09-16T06:07:52.255Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.255Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 556, y: 262 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 542.2887137401169, y: 267.7154436337161 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 561, y: 261 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 561, y: 261 },
  '마지막활동': '2025-09-16T06:07:52.272Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.272Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 561, y: 261 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 546.9500987434319, y: 265.9627628724697 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 566, y: 259 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 566, y: 259 },
  '마지막활동': '2025-09-16T06:07:52.289Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.289Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 566, y: 259 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 551.6395643792987, y: 264.1995237933838 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 570, y: 257 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 570, y: 257 },
  '마지막활동': '2025-09-16T06:07:52.305Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.305Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 570, y: 257 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 556.3290300151696, y: 262.43628471429633 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 575, y: 255 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 575, y: 255 },
  '마지막활동': '2025-09-16T06:07:52.323Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.323Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 575, y: 255 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 560.9904150184846, y: 260.6836039530499 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 580, y: 254 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 580, y: 254 },
  '마지막활동': '2025-09-16T06:07:52.339Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.339Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 580, y: 254 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 565.6798806543513, y: 258.920364873964 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 584, y: 252 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 584, y: 252 },
  '마지막활동': '2025-09-16T06:07:52.356Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.356Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 584, y: 252 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 570.3693462902222, y: 257.15712579487655 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 589, y: 250 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 589, y: 250 },
  '마지막활동': '2025-09-16T06:07:52.372Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.372Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 589, y: 250 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 575.0307312935372, y: 255.40444503363008 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 594, y: 248 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 594, y: 248 },
  '마지막활동': '2025-09-16T06:07:52.389Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.389Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 594, y: 248 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 579.720196929404, y: 253.64120595454418 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 598, y: 247 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 598, y: 247 },
  '마지막활동': '2025-09-16T06:07:52.405Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.405Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 598, y: 247 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 584.3815819327231, y: 251.88852519329618 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 603, y: 245 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 603, y: 245 },
  '마지막활동': '2025-09-16T06:07:52.422Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.422Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 603, y: 245 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 589.0710475685898, y: 250.12528611421027 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 608, y: 243 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 608, y: 243 },
  '마지막활동': '2025-09-16T06:07:52.439Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.439Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 608, y: 243 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 593.7605132044566, y: 248.36204703512433 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 612, y: 241 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 612, y: 241 },
  '마지막활동': '2025-09-16T06:07:52.456Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.456Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 612, y: 241 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 598.4218982077757, y: 246.60936627387633 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 616, y: 240 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 616, y: 240 },
  '마지막활동': '2025-09-16T06:07:52.472Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:52.472Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 616, y: 240 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 603.0832832110948, y: 244.85668551262833 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 607.8008294795093, y: 243.08288811570452 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 612.4902951153801, y: 241.31964903661708 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 616, y: 240 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 612, y: 238 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 612, y: 238 },
  '마지막활동': '2025-09-16T06:07:54.626Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.626Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 612, y: 238 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 607, y: 236 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 607, y: 236 },
  '마지막활동': '2025-09-16T06:07:54.634Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.634Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 607, y: 236 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 602, y: 235 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 602, y: 235 },
  '마지막활동': '2025-09-16T06:07:54.651Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.651Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 602, y: 235 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 598, y: 233 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 598, y: 233 },
  '마지막활동': '2025-09-16T06:07:54.667Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.667Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 598, y: 233 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 611.5276129994955, y: 238.2570844777446 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 593, y: 231 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 593, y: 231 },
  '마지막활동': '2025-09-16T06:07:54.684Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.684Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 593, y: 231 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 606.8595590677198, y: 236.43791640139082 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 588, y: 229 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 588, y: 229 },
  '마지막활동': '2025-09-16T06:07:54.700Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.700Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 588, y: 229 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 602.1915051359441, y: 234.61874832503705 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 584, y: 227 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 584, y: 227 },
  '마지막활동': '2025-09-16T06:07:54.718Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.718Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 584, y: 227 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 597.5234512041684, y: 232.79958024868327 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 579, y: 226 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 579, y: 226 },
  '마지막활동': '2025-09-16T06:07:54.736Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.736Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 579, y: 226 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 592.8833496911434, y: 230.99130539434265 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 574, y: 224 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 574, y: 224 },
  '마지막활동': '2025-09-16T06:07:54.751Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.751Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 574, y: 224 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 588.1873433406129, y: 229.16124409597415 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 570, y: 222 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 570, y: 222 },
  '마지막활동': '2025-09-16T06:07:54.767Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.767Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 570, y: 222 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 583.547241827592, y: 227.35296924163512 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 565, y: 220 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 565, y: 220 },
  '마지막활동': '2025-09-16T06:07:54.784Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.784Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 565, y: 220 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 578.8791878958162, y: 225.53380116528135 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 560, y: 218 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 560, y: 218 },
  '마지막활동': '2025-09-16T06:07:54.800Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.800Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 560, y: 218 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 574.2390863827912, y: 223.72552631094072 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 556, y: 216 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 556, y: 216 },
  '마지막활동': '2025-09-16T06:07:54.817Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.817Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 556, y: 216 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 569.5710324510155, y: 221.90635823458695 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 551, y: 215 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 551, y: 215 },
  '마지막활동': '2025-09-16T06:07:54.833Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.833Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 551, y: 215 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 564.9309309379905, y: 220.09808338024632 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 546, y: 213 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 546, y: 213 },
  '마지막활동': '2025-09-16T06:07:54.851Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.851Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 546, y: 213 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 560.2628770062148, y: 218.27891530389255 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 542, y: 211 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 542, y: 211 },
  '마지막활동': '2025-09-16T06:07:54.868Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.868Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 542, y: 211 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 555.6227754931898, y: 216.47064044955192 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 537, y: 209 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 537, y: 209 },
  '마지막활동': '2025-09-16T06:07:54.884Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.884Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 537, y: 209 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 550.9267691426634, y: 214.64057915118502 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 532, y: 207 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 532, y: 207 },
  '마지막활동': '2025-09-16T06:07:54.900Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.900Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 532, y: 207 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 546.2866676296384, y: 212.8323042968444 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 528, y: 206 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 528, y: 206 },
  '마지막활동': '2025-09-16T06:07:54.918Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.918Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 528, y: 206 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 541.6186136978627, y: 211.01313622049062 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 523, y: 204 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 523, y: 204 },
  '마지막활동': '2025-09-16T06:07:54.935Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.935Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 523, y: 204 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 536.9785121848377, y: 209.20486136615 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 518, y: 202 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 518, y: 202 },
  '마지막활동': '2025-09-16T06:07:54.951Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.951Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 518, y: 202 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 532.3104582530619, y: 207.38569328979622 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 514, y: 200 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 514, y: 200 },
  '마지막활동': '2025-09-16T06:07:54.967Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.967Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 514, y: 200 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 527.6424043212862, y: 205.56652521344245 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 509, y: 198 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 509, y: 198 },
  '마지막활동': '2025-09-16T06:07:54.984Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:54.984Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 509, y: 198 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 522.9743503895105, y: 203.74735713708867 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 504, y: 196 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 504, y: 196 },
  '마지막활동': '2025-09-16T06:07:55.001Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:55.001Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 504, y: 196 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 518.3342488764855, y: 201.93908228274805 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 500, y: 195 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 500, y: 195 },
  '마지막활동': '2025-09-16T06:07:55.017Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:55.017Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 500, y: 195 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 513.6661949447098, y: 200.11991420639427 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 495, y: 193 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 495, y: 193 },
  '마지막활동': '2025-09-16T06:07:55.034Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:55.034Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 495, y: 193 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 508.99814101293407, y: 198.3007461300405 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 490, y: 191 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 490, y: 191 },
  '마지막활동': '2025-09-16T06:07:55.051Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:55.051Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 490, y: 191 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 504.3300870811543, y: 196.48157805368515 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 486, y: 189 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 486, y: 189 },
  '마지막활동': '2025-09-16T06:07:55.068Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:55.068Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 486, y: 189 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 499.6899855681334, y: 194.67330319934612 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 481, y: 187 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 481, y: 187 },
  '마지막활동': '2025-09-16T06:07:55.084Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:55.084Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 481, y: 187 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 495.0498840551084, y: 192.8650283450055 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 3,
  username: 'test1',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 480, y: 187 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 480, y: 187 },
  '마지막활동': '2025-09-16T06:07:55.101Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:55.101Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 480, y: 187 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 490.35387770457794, y: 191.034967046637 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 485.71377619155703, y: 189.22669219229797 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 481.07367467853203, y: 187.41841733795735 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test1',
  mapId: 2,
  position: { x: 480, y: 187 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 494, y: 296 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 494, y: 296 },
  '마지막활동': '2025-09-16T06:07:55.954Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:55.954Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 494, y: 296 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 493, y: 292 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 493, y: 292 },
  '마지막활동': '2025-09-16T06:07:55.955Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:55.955Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 493, y: 292 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 496, y: 301 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 496, y: 301 },
  '마지막활동': '2025-09-16T06:07:55.962Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:55.962Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 496, y: 301 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 497, y: 306 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 497, y: 306 },
  '마지막활동': '2025-09-16T06:07:55.982Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:55.982Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 497, y: 306 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 497, y: 306 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 497, y: 306 },
  '마지막활동': '2025-09-16T06:07:55.991Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:55.991Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 497, y: 306 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 494.1497116318943, y: 296.48047554903906 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 492.5701265192016, y: 291.7260028262448 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 499, y: 311 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 499, y: 311 },
  '마지막활동': '2025-09-16T06:07:56.011Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.011Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 499, y: 311 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 495.72929674458703, y: 301.23494827183333 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 500, y: 315 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 500, y: 315 },
  '마지막활동': '2025-09-16T06:07:56.030Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.030Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 500, y: 315 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 502, y: 320 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 502, y: 320 },
  '마지막활동': '2025-09-16T06:07:56.039Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.039Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 502, y: 320 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 497.29942326378864, y: 305.9609510980781 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 497.29942326379, y: 305.96095109808226 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 504, y: 325 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 504, y: 325 },
  '마지막활동': '2025-09-16T06:07:56.054Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.054Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 504, y: 325 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 498.87900837648135, y: 310.7154238208724 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 505, y: 330 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 505, y: 330 },
  '마지막활동': '2025-09-16T06:07:56.082Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.082Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 505, y: 330 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 500.4680520826624, y: 315.4983664402078 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 505, y: 330 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 505, y: 330 },
  '마지막활동': '2025-09-16T06:07:56.092Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.092Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 505, y: 330 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 502.038178601864, y: 320.2243692664526 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 507, y: 334 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 507, y: 334 },
  '마지막활동': '2025-09-16T06:07:56.109Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.109Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 507, y: 334 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 503.60830512106696, y: 324.9503720927015 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 508, y: 339 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 508, y: 339 },
  '마지막활동': '2025-09-16T06:07:56.121Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.121Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 508, y: 339 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 505.17843164026993, y: 329.67637491895044 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 510, y: 344 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 510, y: 344 },
  '마지막활동': '2025-09-16T06:07:56.145Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.145Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 510, y: 344 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 505.1878902337583, y: 329.70484481549164 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 511, y: 349 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 511, y: 349 },
  '마지막활동': '2025-09-16T06:07:56.163Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.163Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 511, y: 349 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 506.7580167529599, y: 334.4308476417364 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 511, y: 349 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 511, y: 349 },
  '마지막활동': '2025-09-16T06:07:56.176Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.176Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 511, y: 349 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 508.33760186565263, y: 339.1853203645307 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 513, y: 353 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 513, y: 353 },
  '마지막활동': '2025-09-16T06:07:56.191Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.191Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 513, y: 353 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 509.90772838485424, y: 343.9113231907755 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 515, y: 358 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 515, y: 358 },
  '마지막활동': '2025-09-16T06:07:56.211Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.211Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 515, y: 358 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 511.4778549040572, y: 348.6373260170244 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 516, y: 363 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 516, y: 363 },
  '마지막활동': '2025-09-16T06:07:56.227Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.227Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 516, y: 363 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 511.47785490405585, y: 348.63732601702026 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 518, y: 368 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 518, y: 368 },
  '마지막활동': '2025-09-16T06:07:56.242Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.242Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 518, y: 368 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 513.0668986102369, y: 353.4202686363557 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 519, y: 372 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 519, y: 372 },
  '마지막활동': '2025-09-16T06:07:56.261Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.261Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 519, y: 372 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 514.6464837229282, y: 358.1747413591458 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 521, y: 377 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 521, y: 377 },
  '마지막활동': '2025-09-16T06:07:56.278Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.278Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 521, y: 377 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 516.2166102421312, y: 362.90074418539473 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 523, y: 382 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 523, y: 382 },
  '마지막활동': '2025-09-16T06:07:56.299Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.299Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 523, y: 382 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 517.7867367613342, y: 367.62674701164366 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 523, y: 382 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 523, y: 382 },
  '마지막활동': '2025-09-16T06:07:56.309Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.309Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 523, y: 382 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 519.3663218740255, y: 372.3812197344338 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 524, y: 387 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 524, y: 387 },
  '마지막활동': '2025-09-16T06:07:56.328Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.328Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 524, y: 387 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 520.9364483932271, y: 377.10722256067857 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 526, y: 391 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 526, y: 391 },
  '마지막활동': '2025-09-16T06:07:56.349Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.349Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 526, y: 391 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 526, y: 391 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 526, y: 391 },
  '마지막활동': '2025-09-16T06:07:56.354Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.354Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 526, y: 391 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 522.5160335059198, y: 381.86169528347284 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 522.5065749124287, y: 381.83322538692335 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 527, y: 396 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 527, y: 396 },
  '마지막활동': '2025-09-16T06:07:56.376Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.376Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 527, y: 396 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 524.0767014316317, y: 386.5592282131723 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 529, y: 401 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 529, y: 401 },
  '마지막활동': '2025-09-16T06:07:56.395Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.395Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 529, y: 401 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 525.6468279508333, y: 391.28523103941706 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 530, y: 406 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 530, y: 406 },
  '마지막활동': '2025-09-16T06:07:56.416Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.416Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 530, y: 406 }
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 525.6562865443244, y: 391.31370093596655 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 532, y: 410 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 532, y: 410 },
  '마지막활동': '2025-09-16T06:07:56.432Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.432Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 532, y: 410 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 527.2358716570158, y: 396.0681736587567 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 528.8249153631969, y: 400.8511162780921 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 534, y: 415 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 534, y: 415 },
  '마지막활동': '2025-09-16T06:07:56.454Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.454Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 534, y: 415 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 534, y: 415 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 534, y: 415 },
  '마지막활동': '2025-09-16T06:07:56.466Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.466Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 534, y: 415 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 530.3950418823985, y: 405.5771191043369 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 535, y: 420 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 535, y: 420 },
  '마지막활동': '2025-09-16T06:07:56.472Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.472Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 535, y: 420 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 531.9651684016014, y: 410.3031219305858 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 537, y: 425 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 537, y: 425 },
  '마지막활동': '2025-09-16T06:07:56.498Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.498Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 537, y: 425 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 538, y: 429 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 538, y: 429 },
  '마지막활동': '2025-09-16T06:07:56.510Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.510Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 538, y: 429 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 533.535294920803, y: 415.0291247568306 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 540, y: 434 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 540, y: 434 },
  '마지막활동': '2025-09-16T06:07:56.524Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.524Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 540, y: 434 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 533.5542121077825, y: 415.0860645499212 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 535.1337972204739, y: 419.84053727271134 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 541, y: 439 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 541, y: 439 },
  '마지막활동': '2025-09-16T06:07:56.549Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.549Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 541, y: 439 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 536.7133823331652, y: 424.59500999550147 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 541, y: 439 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 541, y: 439 },
  '마지막활동': '2025-09-16T06:07:56.559Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.559Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 541, y: 439 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 543, y: 443 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 543, y: 443 },
  '마지막활동': '2025-09-16T06:07:56.573Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.573Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 543, y: 443 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 538.2835088523668, y: 429.32101282174625 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 539.8536353715698, y: 434.0470156479952 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 545, y: 448 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 545, y: 448 },
  '마지막활동': '2025-09-16T06:07:56.591Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.591Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 545, y: 448 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 546, y: 453 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 546, y: 453 },
  '마지막활동': '2025-09-16T06:07:56.608Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.608Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 546, y: 453 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 541.4237618907728, y: 438.7730184742441 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 541.4237618907714, y: 438.77301847423996 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 548, y: 458 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 548, y: 458 },
  '마지막활동': '2025-09-16T06:07:56.634Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.634Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 548, y: 458 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 542.9938884099744, y: 443.4990213004889 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 548, y: 458 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 548, y: 458 },
  '마지막활동': '2025-09-16T06:07:56.664Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.664Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 548, y: 458 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 544.5734735226657, y: 448.253494023279 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 546.134141448379, y: 452.95102695298266 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 549, y: 462 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 549, y: 462 },
  '마지막활동': '2025-09-16T06:07:56.674Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.674Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 549, y: 462 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 549, y: 462 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 549, y: 462 },
  '마지막활동': '2025-09-16T06:07:56.681Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.681Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 549, y: 462 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 551, y: 467 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 551, y: 467 },
  '마지막활동': '2025-09-16T06:07:56.695Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.695Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 551, y: 467 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 547.7137265610703, y: 457.7054996757728 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 552, y: 472 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 552, y: 472 },
  '마지막활동': '2025-09-16T06:07:56.710Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.710Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 552, y: 472 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 554, y: 477 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 554, y: 477 },
  '마지막활동': '2025-09-16T06:07:56.720Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.720Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 554, y: 477 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 547.7042679675819, y: 457.6770297792316 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 549.2838530802719, y: 462.43150250201757 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 549.2838530802746, y: 462.43150250202586 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 556, y: 481 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 556, y: 481 },
  '마지막활동': '2025-09-16T06:07:56.747Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.747Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 556, y: 481 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 550.8539795994762, y: 467.15750532827064 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 557, y: 486 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 557, y: 486 },
  '마지막활동': '2025-09-16T06:07:56.777Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.777Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 557, y: 486 }
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 557, y: 486 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 557, y: 486 },
  '마지막활동': '2025-09-16T06:07:56.784Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.784Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 557, y: 486 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 552.4241061186792, y: 471.8835081545196 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 554.0131498248603, y: 476.666450773855 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 558, y: 489 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 558, y: 489 },
  '마지막활동': '2025-09-16T06:07:56.794Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 2명, 오프라인: 0명)
📊 [온라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:07:56.794Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 558, y: 489 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 555.5738177505735, y: 481.36398370355863 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 557.1534028632649, y: 486.1184564263487 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 557.1439442697751, y: 486.0899865298034 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 558, y: 488.6666717529297 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
🏓 Ping 전송 완료: 2개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
🏓 Ping 전송 완료: 2개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test1', 'test2' ]
⚠️ Ping 타임아웃 감지: test1 (WIdGoK4w8Gw0xzYDAAAJ) - 90000ms
🧟 좀비 소켓 정리 시작: test1 (WIdGoK4w8Gw0xzYDAAAJ)
🔌 [오프라인] mini area WebSocket 연결 해제: {
  socketId: 'WIdGoK4w8Gw0xzYDAAAJ',
  userId: 3,
  username: 'test1',
  mapId: 2,
  privateAreaId: undefined,
  timestamp: '9/16/2025, 3:09:13 PM'
}
📊 [오프라인] 사용자 상태 변경: test1 (ID: 3)
   입실 상태: 맵 2에 입실 중 → 오프라인 (방 정보 유지)
⚠️ mapId 삭제 시도 차단 - 유지: 2
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 480, y: 187 },
  '마지막활동': '2025-09-16T06:09:13.275Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
🚪 test1 leaving room 2 (다른맵:false, 연결끊김:true)
📊 연결 끊김 - 방 정보 유지: test1 맵 2
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 2, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test1 (3) left room 2
🧹 [시스템] 소켓 정리 완료: test1 (3)
📊 [시스템] 현재 사용자 상태:
   온라인: 1명, 오프라인: 1명
   활성 소켓: 1개
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
WebSocket 연결 해제: WIdGoK4w8Gw0xzYDAAAJ
📊 좀비 정리 - 사용자 오프라인 처리: test1 (방 정보 유지: 2)
⚠️ mapId 삭제 시도 차단 - 유지: 2
📊 로그인 사용자 정보 업데이트: test1 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test1',
  '위치': { x: 480, y: 187 },
  '마지막활동': '2025-09-16T06:09:13.278Z'
}
✅ 방 정보 영구 보존: test1 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 좀비 소켓 정리 완료: test1
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
🏓 Ping 전송 완료: 1개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🔌 [오프라인] mini area WebSocket 연결 해제: {
  socketId: 'pOW66R_wv8q-mhdWAAAH',
  userId: undefined,
  username: undefined,
  mapId: undefined,
  privateAreaId: undefined,
  timestamp: '9/16/2025, 3:09:17 PM'
}
WebSocket 연결 해제: pOW66R_wv8q-mhdWAAAH
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🏓 Ping 전송 완료: 1개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🏓 Ping 전송 완료: 1개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🏓 Ping 전송 완료: 1개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🏓 Ping 전송 완료: 1개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🏓 Ping 전송 완료: 1개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🏓 Ping 전송 완료: 1개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🏓 Ping 전송 완료: 1개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🏓 Ping 전송 완료: 1개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🏓 Ping 전송 완료: 1개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🏓 Ping 전송 완료: 1개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🏓 Ping 전송 완료: 1개 소켓
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🔌 [오프라인] mini area WebSocket 연결 해제: {
  socketId: 'ut3cpTBHSDEheOl5AAAL',
  userId: undefined,
  username: undefined,
  mapId: undefined,
  privateAreaId: undefined,
  timestamp: '9/16/2025, 3:14:59 PM'
}
WebSocket 연결 해제: ut3cpTBHSDEheOl5AAAL
🔌 [오프라인] mini area WebSocket 연결 해제: {
  socketId: 'XpfSfWIqmP4K9mHJAAAN',
  userId: 4,
  username: 'test2',
  mapId: 2,
  privateAreaId: undefined,
  timestamp: '9/16/2025, 3:14:59 PM'
}
📊 [오프라인] 사용자 상태 변경: test2 (ID: 4)
   입실 상태: 맵 2에 입실 중 → 오프라인 (방 정보 유지)
⚠️ mapId 삭제 시도 차단 - 유지: 2
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 558, y: 489 },
  '마지막활동': '2025-09-16T06:14:59.091Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 0명, 오프라인: 2명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
🚪 test2 leaving room 2 (다른맵:false, 연결끊김:true)
📊 연결 끊김 - 방 정보 유지: test2 맵 2
📋 맵 2의 참가자 조회 시작
📋 맵 2에 소켓이 없음
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test2 (4) left room 2
🧹 [시스템] 소켓 정리 완료: test2 (4)
📊 [시스템] 현재 사용자 상태:
   온라인: 0명, 오프라인: 2명
   활성 소켓: 0개
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 0명, 오프라인: 2명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [오프라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
🔄 서버 상태 업데이트: { totalUsers: 0, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
WebSocket 연결 해제: XpfSfWIqmP4K9mHJAAAN
2025-09-16T06:15:00.605Z - OPTIONS /api/auth/user/me from 192.168.200.108
2025-09-16T06:15:00.612Z - OPTIONS /api/auth/user/me from 192.168.200.108
2025-09-16T06:15:00.612Z - GET /api/auth/user/me from 192.168.200.108
👤 현재 사용자 정보 조회: { userId: 4, username: 'test2' }
2025-09-16T06:15:00.630Z - GET /api/auth/user/me from 192.168.200.108
👤 현재 사용자 정보 조회: { userId: 4, username: 'test2' }
2025-09-16T06:15:00.706Z - OPTIONS /api/maps/2 from 192.168.200.108
2025-09-16T06:15:00.722Z - OPTIONS /api/maps from 192.168.200.108
2025-09-16T06:15:00.752Z - OPTIONS /api/characters from 192.168.200.108
2025-09-16T06:15:00.753Z - OPTIONS /api/characters from 192.168.200.108
2025-09-16T06:15:00.788Z - GET /api/characters from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
2025-09-16T06:15:00.789Z - GET /api/maps from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
2025-09-16T06:15:00.790Z - GET /api/maps/2 from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
2025-09-16T06:15:00.792Z - OPTIONS /api/maps from 192.168.200.108
Auth 미들웨어 - 인증 성공, 사용자: test2
Auth 미들웨어 - 인증 성공, 사용자: test2
Auth 미들웨어 - 인증 성공, 사용자: test2
🔍 서버: 맵 조회 요청: { mapId: '2', userId: 4 }
2025-09-16T06:15:00.814Z - GET /api/characters from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
🔍 서버: 맵 조회 결과: 성공
✅ 서버: 맵 조회 성공: { id: 2, name: 'new world', creatorId: 3 }
Auth 미들웨어 - 인증 성공, 사용자: test2
2025-09-16T06:15:00.834Z - GET /api/maps from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
WebSocket 초기 헤더: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Credentials': 'true'
}
WebSocket 요청 정보: {
  method: 'GET',
  url: '/socket.io/?EIO=4&transport=websocket',
  headers: {
    host: '192.168.200.106:7000',
    connection: 'Upgrade',
    pragma: 'no-cache',
    'cache-control': 'no-cache',
    'user-agent': 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
    upgrade: 'websocket',
    origin: 'https://192.168.200.106:5173',
    'sec-websocket-version': '13',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'sec-websocket-key': '4F1+bQZYRZWGKSHdAWDE0w==',
    'sec-websocket-extensions': 'permessage-deflate; client_max_window_bits'
  },
  secure: undefined
}
새로운 WebSocket 연결 (화상통신 준비): nB7ar4qvMl3LMzkhAAAP
연결 정보: {
  id: 'nB7ar4qvMl3LMzkhAAAP',
  ip: '192.168.200.108',
  userAgent: 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
  origin: 'https://192.168.200.106:5173',
  secure: true
}
새로운 mini area WebSocket 연결: nB7ar4qvMl3LMzkhAAAP IP: 192.168.200.108
새로운 WebSocket 연결: nB7ar4qvMl3LMzkhAAAP
WebSocket 초기 헤더: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Credentials': 'true'
}
WebSocket 요청 정보: {
  method: 'GET',
  url: '/socket.io/?EIO=4&transport=websocket',
  headers: {
    host: '192.168.200.106:7000',
    connection: 'Upgrade',
    pragma: 'no-cache',
    'cache-control': 'no-cache',
    'user-agent': 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
    upgrade: 'websocket',
    origin: 'https://192.168.200.106:5173',
    'sec-websocket-version': '13',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'sec-websocket-key': '6K1yPZJGPc6n9DLRZraCIg==',
    'sec-websocket-extensions': 'permessage-deflate; client_max_window_bits'
  },
  secure: undefined
}
새로운 WebSocket 연결 (화상통신 준비): EnqvirOnhZ7B19rRAAAR
연결 정보: {
  id: 'EnqvirOnhZ7B19rRAAAR',
  ip: '192.168.200.108',
  userAgent: 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
  origin: 'https://192.168.200.106:5173',
  secure: true
}
새로운 mini area WebSocket 연결: EnqvirOnhZ7B19rRAAAR IP: 192.168.200.108
새로운 WebSocket 연결: EnqvirOnhZ7B19rRAAAR
2025-09-16T06:15:00.937Z - OPTIONS /api/user/logged-in-users from 192.168.200.108
2025-09-16T06:15:00.948Z - GET /api/user/logged-in-users from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
2025-09-16T06:15:01.057Z - POST /api/characters from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
✅ 인증 성공: test2 (4)
🔄 [온라인] 사용자 이전 입실 상태 복원: test2 (ID: 4) → 맵 2
   📍 이전 위치: (558, 489), 방향: down
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 558, y: 489 },
  '마지막활동': '2025-09-16T06:15:01.064Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
WebSocket 인증 성공: 4 test2
✅ 인증 성공: test2 (4)
🔄 [온라인] 사용자 이전 입실 상태 복원: test2 (ID: 4) → 맵 2
   📍 이전 위치: (558, 489), 방향: down
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 558, y: 489 },
  '마지막활동': '2025-09-16T06:15:01.068Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📡 서버 상태 브로드캐스트
WebSocket 인증 성공: 4 test2
2025-09-16T06:15:01.116Z - GET /api/user/logged-in-users from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 1, mapsCount: 1 }
📤 서버 상태 전송 to test2 (4)
2025-09-16T06:15:01.127Z - GET /api/characters from 192.168.200.108
Auth 미들웨어 - Authorization 헤더: 존재
Auth 미들웨어 - 토큰 확인: eyJhbGciOiJIUzI1NiIs...
Auth 미들웨어 - 토큰 디코딩 성공, userId: 4
Auth 미들웨어 - 인증 성공, 사용자: test2
📥 join-map 이벤트 수신: {
  userId: 4,
  username: 'test2',
  mapId: 2,
  characterId: 3,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 3,
    name: 'test2',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 4
}
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:15:01.236Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
👥 방 2의 참가자 목록: [
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 400, y: 300 },
    direction: 'down',
    status: 'online',
    joinedAt: 2025-09-16T06:15:01.068Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:31:26.126Z',
      updatedAt: '2025-09-16T02:44:12.723Z',
      userId: 4
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 400, y: 300 }, participants: 1 }
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:15:01.306Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:15:01.306Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
🚪 test2 leaving room 2 (다른맵:false, 연결끊김:false)
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': '대기실',
  mapId: 'wait',
  '현재영역': '대기실',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': null,
  '마지막활동': '2025-09-16T06:15:01.308Z'
}
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 wait (방 wait) (test2)
📊 명시적 퇴실 - 대기실로 이동: test2 → 대기실 (mapId: wait)
📋 맵 2의 참가자 조회 시작
📋 맵 2에 소켓이 없음
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test2 (4) left room 2
📥 join-map 이벤트 수신: {
  userId: 4,
  username: 'test2',
  mapId: 2,
  characterId: 3,
  hasCharacterInfo: true,
  characterInfoKeys: [
    'id',         'name',
    'appearance', 'images',
    'size',       'position',
    'isActive',   'currentMapId',
    'createdAt',  'updatedAt',
    'userId'
  ],
  characterInfoDetail: {
    id: 3,
    name: 'test2',
    hasImages: true,
    hasAppearance: true,
    imagesKeys: [ 'down', 'up', 'left', 'right' ],
    appearanceKeys: [ 'head', 'body', 'arms', 'legs' ]
  }
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 400, y: 300 },
  characterInfo: '있음',
  userId: 4
}
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 400, y: 300 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:15:01.311Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
👥 방 2의 참가자 목록: [
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 400, y: 300 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:15:01.068Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: '2025-09-15T23:31:26.126Z',
      updatedAt: '2025-09-16T02:44:12.723Z',
      userId: 4
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 400, y: 300 }, participants: 1 }
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 400, y: 300 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 400, y: 300 },
  '마지막활동': '2025-09-16T06:15:01.314Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:15:01.314Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 400, y: 300 }
}
💾 사용자 입실 상태 DB 저장: 4 → 맵 null
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 400, y: 300 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 400, y: 300 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
👤 사용자 상태 업데이트 수신: {
  userId: 4,
  username: 'test2',
  status: 'in-room',
  currentRoom: { id: 2, name: 'new world', mapId: 2 },
  position: { x: 491, y: 287 },
  area: undefined,
  areaType: undefined
}
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 491, y: 287 },
  '마지막활동': '2025-09-16T06:15:01.801Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
✅ 사용자 상태 업데이트 완료: {
  '상태': 'in-room',
  '마지막활동': '2025-09-16T06:15:01.801Z',
  '입실공간': 'new world',
  mapId: 2,
  '위치': { x: 491, y: 287 }
}
👥 캐릭터 이동 브로드캐스트: {
  from: 'test2',
  mapId: 2,
  position: { x: 491, y: 287 },
  hasCharacterInfo: true,
  characterInfo: 'present'
}
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
🔄 자동 재입장 시도: test2 → 맵 2
✅ test2 활성 캐릭터 로드 완료: {
  characterId: 3,
  characterName: 'test2',
  hasImages: true,
  hasAppearance: true
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 558, y: 489 },
  characterInfo: '있음',
  userId: 4
}
🚪 test2 leaving room 2 (다른맵:true, 연결끊김:false)
📋 맵 2의 참가자 조회 시작
📋 맵 2에 소켓이 없음
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test2 (4) left room 2
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 558, y: 489 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 558, y: 489 },
  '마지막활동': '2025-09-16T06:15:02.069Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 558, y: 489 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
👥 방 2의 참가자 목록: [
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 558, y: 489 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:15:01.068Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:31:26.126Z,
      updatedAt: 2025-09-16T02:44:12.723Z,
      userId: 4
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 558, y: 489 }, participants: 1 }
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
🔄 자동 재입장 시도: test2 → 맵 2
✅ test2 활성 캐릭터 로드 완료: {
  characterId: 3,
  characterName: 'test2',
  hasImages: true,
  hasAppearance: true
}
🏠 test2 맵 입장 시작: {
  mapId: 2,
  characterId: 3,
  position: { x: 558, y: 489 },
  characterInfo: '있음',
  userId: 4
}
🚪 test2 leaving room 2 (다른맵:true, 연결끊김:false)
📋 맵 2의 참가자 조회 시작
📋 맵 2에 소켓이 없음
📢 leaveMap: Broadcasted updated participant list to room 2.
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
user test2 (4) left room 2
✅ test2 characterInfo 저장 완료: { hasImages: true, hasAppearance: true, characterId: 3 }
🏠 test2 맵 입장 - 초기 위치 및 영역 설정: { position: { x: 558, y: 489 }, area: '공개 영역' }
📊 로그인 사용자 정보 업데이트: test2 {
  '입실공간': 'new world',
  mapId: 2,
  '현재영역': '공용 영역',
  privateAreaId: null,
  '캐릭터': 'test2',
  '위치': { x: 558, y: 489 },
  '마지막활동': '2025-09-16T06:15:02.073Z'
}
✅ 방 정보 영구 보존: test2 → 맵 2 (new world)
📊 [시스템] 전체 로그인 사용자 정보 브로드캐스트:
   전체: 2명 (온라인: 1명, 오프라인: 1명)
📊 [오프라인] 입실 중인 사용자: test1 → 맵 2 (new world) (test1)
📊 [온라인] 입실 중인 사용자: test2 → 맵 2 (new world) (test2)
📊 사용자 입실 정보 저장 완료: test2 {
  mapId: 2,
  mapName: 'new world',
  '캐릭터': 'test2',
  '위치': { x: 558, y: 489 }
}
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
👥 방 2의 참가자 목록: [
  {
    userId: 4,
    username: 'test2',
    characterId: 3,
    position: { x: 558, y: 489 },
    direction: 'down',
    status: 'in-room',
    joinedAt: 2025-09-16T06:15:01.068Z,
    characterInfo: {
      id: 3,
      name: 'test2',
      appearance: [Object],
      images: [Object],
      size: 48,
      position: [Object],
      isActive: true,
      currentMapId: null,
      createdAt: 2025-09-15T23:31:26.126Z,
      updatedAt: 2025-09-16T02:44:12.723Z,
      userId: 4
    },
    privateAreaId: null
  }
]
📢 Broadcasted updated participant list to room 2.
📋 맵 2의 참가자 조회 시작
📋 맵 2의 소켓 수: 1
📋 참가자 추가: test2 (4)
📋 맵 2의 최종 참가자 수: 1
🏠 test2 맵 입장 완료 - 최종 상태: { mapId: 2, position: { x: 558, y: 489 }, participants: 1 }
🔄 서버 상태 업데이트: { totalUsers: 1, lobbyUsers: 0, mapsCount: 1 }
📡 서버 상태 브로드캐스트
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
💾 사용자 입실 상태 DB 저장: 4 → 맵 2
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
📡 맵 2에 사용자 정보 브로드캐스트: [ 'test2' ]
